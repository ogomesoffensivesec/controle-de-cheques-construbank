import{c as m,r as c,o as g,p as i,j as e,C as y,e as N,f as v,h as C,i as b,L as k,I as U,B as z,D as E,E as L,F as S,G as F,q as I,n as o,t as R}from"./index-CLtyk14W.js";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=m("PictureInPicture",[["path",{d:"M8 4.5v5H3m-1-6 6 6m13 0v-3c0-1.16-.84-2-2-2h-7m-9 9v2c0 1.05.95 2 2 2h3",key:"bcd8fb"}],["rect",{width:"10",height:"7",x:"12",y:"13.5",ry:"2",key:"136fx3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=m("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),P=()=>{const[s,h]=c.useState(null),[f,l]=c.useState(!1),[n,d]=c.useState(!1);c.useEffect(()=>{const a=g(i,t=>{h(t)});return()=>a()},[i]);const p=async a=>{var x;const t=(x=a.target.files)==null?void 0:x[0];if(t&&s){l(!0);try{const r=E(L,`usuarios/${s.uid}/perfil/${t.name}`);await S(r,t);const w=await F(r);await I(s,{photoURL:w}),o.success("Foto de perfil atualizada com sucesso!")}catch(r){console.error("Erro ao atualizar a foto:",r),o.error("Erro ao atualizar a foto de perfil.")}finally{l(!1)}}},j=async()=>{d(!0);try{await R(i),o.success("Você saiu da sua conta com sucesso.")}catch(a){console.error("Erro ao sair:",a),o.error("Erro ao sair da conta.")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center ",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(y,{className:"w-full max-w-2xl mx-auto shadow-lg rounded-lg",children:[e.jsxs(N,{className:"flex flex-col items-center",children:[e.jsx(v,{className:"text-2xl font-bold",children:"Configurações da Conta"}),e.jsx(C,{className:"text-center",children:"Gerencie suas informações e preferências"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[s!=null&&s.photoURL?e.jsx("img",{src:s.photoURL,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover cursor-pointer "}):e.jsx(u,{className:"w-24 h-24 text-zinc-500"}),e.jsxs(k,{htmlFor:"foto-upload",className:"absolute bottom-0 right-0  transition-colors duration-200 cursor-pointer",children:[e.jsx(B,{className:"w-6 h-6 text-white bg-zinc-900/50 p-1 rounded-full "}),e.jsx(U,{id:"foto-upload",type:"file",accept:"image/*",className:"hidden",onChange:p})]}),f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-50 rounded-full",children:e.jsxs("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:(s==null?void 0:s.displayName)||"Usuário"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:s==null?void 0:s.email})]})]}),e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsxs(z,{variant:"destructive",className:"flex items-center justify-center space-x-2 w-[170px]",onClick:j,disabled:n,children:[n?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{children:"Sair da Conta"})]})})]})]})})})};export{P as default};
